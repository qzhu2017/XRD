{% extends 'bootstrap/base.html' %}

{% block title %}
  {% if title %}
    {{ title }} - VXRD
  {% else %}
    VXRD
  {% endif %}
{% endblock %}

{% block navbar %}
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed"
          data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
          aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="{{ url_for('index') }}">VXRD</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><a href="{{ url_for('index') }}">Single</a></li>
          <li><a href="{{ url_for('comparison') }}">Comparison</a></li>
        </ul>
      </div>
    </div>
  </nav>
{% endblock %}

{% block content %}
  <!-- BEGIN JSmol IMPORTS -->
  <script src="{{ url_for('static', filename='jsmol/JSmol.min.js') }}"></script>
  <script src="{{ url_for('static', filename='jsmol.js') }}"></script>
  <!-- END JSmol IMPORTS -->

  <!-- BEGIN PROFILE HIDE/SHOW -->
  <script>
    $(document).ready(function() {
      $('#method').change(function() {
        if ($(this).val() === 'gaussian' || $(this).val() === 'lorentzian'
          || $(this).val() === 'pseudo-voigt') {
            $('.glpv').show();
            $('.modpv').hide();
        }
        if ($(this).val() === 'mod_pseudo-voigt') {
          $('.glpv').hide();
          $('.modpv').show();
        }
      }).change(); // will trigger when DOM is ready
    })
  </script>
  <!-- END PROFILE HIDE/SHOW -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
  </script>
  <div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}" role="alert">{{ message }}</div>
      {% endfor %}
    {% endif %}
    {% endwith %}

    {# application content needs to be provided in the app_content block #}
    {% block app_content %}{% endblock %}
  </div>
{% endblock %}
